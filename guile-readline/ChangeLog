1999-09-12  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	* readline.h, readline.scm: Updated copyright notices.

1999-09-11  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	* readline.scm (activate-readline): Set (using-readline?).

1999-09-11  Jim Blandy  <jimb@savonarola.red-bean.com>

	* aclocal.m4: Regenerated with newer libtool macros.

	* Makefile.am (DISTCLEANFILES): Get rid of .x files.
	* Makefile.in: Regenerated.
	(Thanks to Keisuke Nishida.)

1999-09-11  Marius Vollmer  <mvo@zagadka.ping.de>

	* readline.scm: Moved from ../ice-9.
	Dynamically link libguilereadline.so.
	(readline): Just define in this module, do not overwrite builtin
	variable.  The builtin readline function is now named "%readline",
	so this works.  See below.
	(activate-readline): New function which contains the readline
	activation code formerly found in top-repl.
	
	* readline.c (scm_readline): Export it to Scheme as "%readline".

	* configure.in: Get version from ../GUILE-VERSION and use it for
	package version.

	* Makefile.am: Do not install and distribute
	readline-activator.scm.  Install and distribute readline.scm
	instead.

	* aclocal.m4, Makefile.in, configure, libtool: Regenerated, but
	probably with the wrong version of the tools.

1999-08-29  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	The following change makes it possible for applications to have
	their own version of scm_readline.
	* readline.c, readline.h (rl_cleanup_after_signal,
	rl_free_line_state): Made global.
	(scm_readline_init_ports): New function.
	(scm_readline): Use scm_readline_init_ports.
	(Thanks to Anders Holst.)

	* Makefile.am: Install guile-readline/readline.h.
	
1999-08-20  James Blandy  <jimb@mule.m17n.org>

	* Makefile.in, aclocal.m4, configure: Regenerated.

1999-08-17  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	* configure.in (HAVE_RL_GETC_FUNCTION): Modified test to actually
	use rl_getc_function.  Otherwise smart compilers, like gcc,
	optimize away the reference so that no error occurs in the link
	phase.

1999-08-04  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	* Makefile.am (INCLUDES): Added -I$(srcdir)/../libguile.
	(Thanks to Greg Badros.)

1999-07-24  Mikael Djurfeldt  <mdj@thalamus.nada.kth.se>

	* readline.c (handle_error): Put a cosmetic newline on
	rl_outstream on error before closing it.

	* configure.in: Changed AC_MSG_ERROR into AC_MSG_WARN in case
	readline doesn't exist on the system, so that configuration can
	proceed normally without readline.

	* readline.c: #include "libguile/_scm.h" (so that we get the
	configuration information) and fix other includes so that they'll
	work on a system where guile is not yet installed.

	* Makefile.am (BUILT_SOURCES): Added.

1999-07-23  Marius Vollmer  <mvo@zagadka.ping.de>

	* Checked everything into CVS.

1999-07-22  Marius Vollmer  <mvo@zagadka.ping.de>

	* readline.c (stream_from_fport): New function.
	(scm_readline): Use it to for the input and output ports.  Close
	the streams after readline returns.
	(handle_error): Close them also when an error occured.

1999-06-17  Marius Vollmer  <mvo@zagadka.ping.de>

	* readline.h, readline.c: Removed exception notice from copyright
	statement.

1999-05-16  Marius Vollmer  <mvo@zagadka.ping.de>

	* Started guile-readline package.  Files are copied from old
	guile-core package and slightly modified.
