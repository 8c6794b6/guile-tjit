# 	Copyright (C) 1995 Free Software Foundation, Inc.
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this software; see the file COPYING.  If not, write to
# the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.
# 



SHELL = /bin/sh

srcdir = @srcdir@
VPATH = @srcdir@
prefix = @prefix@

VERSION=@GUILE_VERSION@

datadir=@datadir@
pkgdatadir=$(datadir)/guile
pkgverdatadir=$(pkgdatadir)/$(VERSION)
subpkgdatadir=$(pkgverdatadir)/@library_name@
sitedatadir=$(pkgdatadir)/site

INSTALL = $(srcdir)/../install-sh -c
INSTALL_DATA = $(INSTALL) -m 644

scm_files = \
	boot-9.scm \
	debug.scm \
	expect.scm \
	hcons.scm \
	lineio.scm \
	mapping.scm \
	poe.scm \
	slib.scm  \
	tags.scm \
	threads.scm

aux_files = \
	.cvsignore \
	COPYING \
	ChangeLog \
	Makefile.in \
	configure \
	configure.in


all: 

install: all
	for dir in $(datadir) $(pkgdatadir) $(pkgverdatadir) \
	  $(subpkgdatadir) $(sitedatadir); do \
	  test -d $$dir || mkdir $$dir; \
	done
	for file in $(scm_files); do \
	  $(INSTALL_DATA) $(srcdir)/$$file $(subpkgdatadir); \
	done

uninstall: 
	for file in $(scm_files) ; do \
	  rm -f $(subpkgdatadir)/$$file;  \
	done;
	-rmdir $(subpkgdatadir)
	-rmdir $(pkgverdatadir)
	-rmdir $(sitedatadir)
	-rmdir $(pkgdatadir)
	-rmdir $(datadir)


# The `dist' target in the top-level Makefile uses this `dist-dir'
# target to select the appropriate files for distribution from the
# directory containing this Makefile.
.PHONY: dist-dir
dist-dir:
	mkdir ${DISTDIR}
	for f in ${scm_files} ${aux_files}; do \
	  ln ${srcdir}/$$f ${DISTDIR}; \
	done
	mkdir ${DISTDIR}/PLUGIN
	for f in REQ greet split.sed this.configure; do \
	  ln ${srcdir}/PLUGIN/$$f ${DISTDIR}/PLUGIN; \
	done


clean:

distclean:
	-rm -f config.log config.status Makefile

realclean:

